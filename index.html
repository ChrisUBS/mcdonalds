<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>McDonald's - Ordenes</title>
    <link rel="icon" type="image/png" href="images/Mc-burger-icon.png">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet" />
    <link href="css/index-style.css" rel="stylesheet" />
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">
                <img src="images/McDonalds-logo.png" alt="McDonald's Logo" class="brand-logo" />
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="/">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="nosotros">Acerca de nosotros</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="creditos">Créditos</a>
                    </li>
                </ul>
            </div>
            <a href="#" id="btn-add-order" class="btn btn-primary btn-add-order d-flex align-items-center">
                <i class="bi bi-plus-circle-fill me-2"></i> Agregar orden
            </a>
        </div>
    </nav>

    <!-- Main -->
    <main>
        <div class="container my-4">

            <!-- Mensaje de bienvenida -->
            <div class="d-flex justify-content-start mb-3">
                <p class="h5">Bienvenido, estas son las ordenes actuales:</p>
            </div>

            <!-- Ordenes -->
            <div class="orders-list">
                <div class="orders-list">
                    <!-- Aquí van las ordenes -->
                </div>
            </div>
        </div>
    </main>

    <!-- Modal para agregar una nueva orden -->
    <div class="modal fade" id="addOrderModal" tabindex="-1" aria-labelledby="addOrderModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" style="max-width: 500px; width: 90%; margin:auto;">
            <div class="modal-content" style="border: 3px solid #FFC72C; border-radius: 10px;">
                <!-- Encabezado del Modal -->
                <div class="modal-header" style="background-color: #DA291C; color: #FFF;">
                    <h5 class="modal-title" id="addOrderModalLabel" style="font-weight: bold; font-size: 1.5rem;">➕
                        Agregar Nueva Orden</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>

                <!-- Cuerpo del Modal -->
                <div class="modal-body" style="background-color: #FFF7E4;">
                    <!-- Pestañas -->
                    <ul class="nav nav-tabs" id="addOrderTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="order-tab" data-bs-toggle="tab" data-bs-target="#order"
                                type="button" role="tab" aria-controls="order" aria-selected="true"
                                style="color: #DA291C; font-weight: bold;">Orden</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="order-client-tab" data-bs-toggle="tab" data-bs-target="#client"
                                type="button" role="tab" aria-controls="client" aria-selected="false"
                                style="color: #DA291C; font-weight: bold;">Cliente</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="order-mesero-tab" data-bs-toggle="tab"
                                data-bs-target="#add-mesero" type="button" role="tab" aria-controls="add-mesero"
                                aria-selected="false" style="color: #DA291C; font-weight: bold;">Mesero</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="menu-tab" data-bs-toggle="tab" data-bs-target="#menu"
                                type="button" role="tab" aria-controls="menu" aria-selected="false"
                                style="color: #DA291C; font-weight: bold;">Menú</button>
                        </li>
                    </ul>

                    <!-- Contenido de las Pestañas -->
                    <div class="tab-content mt-3" id="addOrderTabsContent">
                        <!-- Tab Orden -->
                        <div class="tab-pane fade show active" id="order" role="tabpanel" aria-labelledby="order-tab">
                            <form id="orderForm">
                                <div class="mb-3">
                                    <label for="mesa" class="form-label">Mesa</label>
                                    <!-- <input type="number" class="form-control" id="mesa" name="mesa"
                                        placeholder="Número de Mesa" required> -->
                                    <input type="number" class="form-control" id="mesa" name="mesa"
                                        placeholder="Número de Mesa" min="1" max="10" required>
                                </div>
                                <div class="mb-3">
                                    <label for="metodo_pago" class="form-label">Método de Pago</label>
                                    <select class="form-select" id="metodo_pago" name="metodo_pago" required>
                                        <option value="Efectivo">Efectivo</option>
                                        <option value="Tarjeta">Tarjeta</option>
                                        <option value="Transferencia">Transferencia</option>
                                    </select>
                                </div>
                            </form>
                        </div>

                        <!-- Tab Cliente -->
                        <div class="tab-pane fade" id="client" role="tabpanel" aria-labelledby="order-client-tab">
                            <form id="clientForm">
                                <div class="mb-3">
                                    <label for="nombre_cliente" class="form-label">Nombre</label>
                                    <input type="text" class="form-control" id="nombre_cliente" name="nombre_cliente"
                                        placeholder="Nombre del Cliente" required>
                                </div>
                                <div class="mb-3">
                                    <label for="apellido_cliente" class="form-label">Apellido</label>
                                    <input type="text" class="form-control" id="apellido_cliente"
                                        name="apellido_cliente" placeholder="Apellido del Cliente" required>
                                </div>
                                <div class="mb-3">
                                    <label for="celular_cliente" class="form-label">Celular</label>
                                    <input type="text" class="form-control" id="celular_cliente" name="celular_cliente"
                                        placeholder="Número de Celular" required>
                                </div>
                            </form>
                        </div>

                        <!-- Tab Mesero -->
                        <div class="tab-pane fade" id="add-mesero" role="tabpanel" aria-labelledby="order-mesero-tab">
                            <form id="meseroForm">
                                <div class="mb-3">
                                    <label for="add-mesero" class="form-label">Seleccionar Mesero</label>
                                    <select class="form-select" id="add-mesero-select" name="add-mesero" required>
                                        <!-- Opciones dinámicas -->
                                    </select>
                                </div>
                            </form>
                        </div>

                        <!-- Tab Menú -->
                        <div class="tab-pane fade" id="menu" role="tabpanel" aria-labelledby="menu-tab">
                            <form id="menuForm">
                                <div id="menuContainer">
                                    <!-- Opciones dinámicas de productos -->
                                </div>
                                <div class="text-center mt-3">
                                    <strong>Subtotal: $<span id="subtotal">0.00</span></strong>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Pie del Modal -->
                <div class="modal-footer" style="background-color: #FFF3CF;">
                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal"
                        style="background-color: #DA291C; border-color: #DA291C; color: #FFF;">Cerrar</button>
                    <button type="button" class="btn btn-primary" id="navigationButton">Siguiente</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para mostrar los detalles de la orden -->
    <div class="modal fade" id="orderDetailsModal" tabindex="-1" aria-labelledby="orderDetailsModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content" style="border: 3px solid #FFC72C; border-radius: 10px;">
                <!-- Encabezado del modal -->
                <div class="modal-header" style="background-color: #DA291C; color: #FFF;">
                    <h5 class="modal-title" id="orderDetailsModalLabel" style="font-weight: bold; font-size: 1.5rem;">🍔
                        Detalles de la Orden</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                        style="background-color: #FFF;"></button>
                </div>

                <!-- Cuerpo del modal -->
                <div class="modal-body" style="background-color: #FFF7E4;">
                    <!-- Pestañas -->
                    <ul class="nav nav-tabs" id="orderDetailsTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="general-tab" data-bs-toggle="tab"
                                data-bs-target="#general" type="button" role="tab" aria-controls="general"
                                aria-selected="true" style="color: #DA291C; font-weight: bold;">General</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="products-tab" data-bs-toggle="tab" data-bs-target="#products"
                                type="button" role="tab" aria-controls="products" aria-selected="false"
                                style="color: #DA291C; font-weight: bold;">Productos</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="details-client-tab" data-bs-toggle="tab"
                                data-bs-target="#details-client" type="button" role="tab" aria-controls="client"
                                aria-selected="false" style="color: #DA291C; font-weight: bold;">Cliente</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="details-mesero-tab" data-bs-toggle="tab"
                                data-bs-target="#details-mesero" type="button" role="tab" aria-controls="mesero"
                                aria-selected="false" style="color: #DA291C; font-weight: bold;">Mesero</button>
                        </li>
                    </ul>

                    <!-- Contenido de las Pestañas -->
                    <div class="tab-content mt-3" id="orderDetailsTabsContent">
                        <!-- Tab General -->
                        <div class="tab-pane fade show active" id="general" role="tabpanel"
                            aria-labelledby="general-tab">
                            <p><strong>🆔 Orden ID:</strong> <span id="modal-order-id"></span></p>
                            <p><strong>📅 Fecha:</strong> <span id="modal-order-date"></span></p>
                            <p><strong>🍽️ Mesa:</strong> <span id="modal-order-table"></span></p>
                            <p><strong>💲 Total:</strong> $<span id="modal-order-total"></span></p>
                            <p><strong>💳 Método de Pago:</strong> <span id="modal-order-payment-method"></span></p>
                        </div>

                        <!-- Tab Productos -->
                        <div class="tab-pane fade" id="products" role="tabpanel" aria-labelledby="products-tab">
                            <ul id="modal-order-products" class="list-group">
                                <!-- Productos se llenarán dinámicamente -->
                            </ul>
                        </div>

                        <!-- Tab Cliente -->
                        <div class="tab-pane fade" id="details-client" role="tabpanel"
                            aria-labelledby="details-client-tab">
                            <p><strong>👤 Nombre:</strong> <span id="modal-client-name"></span></p>
                            <p><strong>👥 Apellido:</strong> <span id="modal-client-lastname"></span></p>
                            <p><strong>📞 Celular:</strong> <span id="modal-client-phone"></span></p>
                        </div>

                        <!-- Tab Mesero -->
                        <div class="tab-pane fade" id="details-mesero" role="tabpanel"
                            aria-labelledby="details-mesero-tab">
                            <p><strong>👤 Nombre:</strong> <span id="modal-mesero-name"></span></p>
                            <p><strong>👥 Apellido:</strong> <span id="modal-mesero-lastname"></span></p>
                            <p><strong>📞 Celular:</strong> <span id="modal-mesero-phone"></span></p>
                            <p><strong>🧑‍🍳 Género:</strong> <span id="modal-mesero-gender"></span></p>
                        </div>
                    </div>
                </div>

                <!-- Pie del modal -->
                <div class="modal-footer" style="background-color: #FFF3CF;">
                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal"
                        style="background-color: #DA291C; border-color: #DA291C; color: #FFF;">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para desactivar una orden -->
    <div class="modal fade" id="confirmDeactivateModal" tabindex="-1" aria-labelledby="confirmDeactivateLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content" style="border: 2px solid #FFC72C; border-radius: 10px;">
                <div class="modal-header" style="background-color: #DA291C; color: #FFF;">
                    <h5 class="modal-title" id="confirmDeactivateLabel">Confirmar Desactivación</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                        style="background-color: #FFF;"></button>
                </div>
                <div class="modal-body" style="background-color: #FFF7E4;">
                    <p>¿Estás seguro de que deseas desactivar esta orden? Esta acción no se puede deshacer.</p>
                </div>
                <div class="modal-footer" style="background-color: #FFF3CF;">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-danger" id="confirmDeactivateButton"
                        style="background-color: #DA291C; border-color: #DA291C; color: #FFF;">Desactivar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer mt-auto py-3">
        <div class="container text-center">
            <span class="text-muted">McDonald's © 2024</span>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/index-script.js"></script>
    <script src="js/add-new-order.js"></script>
    <script src="js/deactivate-order.js"></script>
    <script src="js/order-details.js"></script>
</body>

</html>